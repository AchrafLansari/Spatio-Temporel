<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css" type="text/css" charset="utf-8"/>
</head>
<body onload="$('a.poplight[href^=#]').click();">



 
        <a href="#?w=700" rel="popup_name" class="poplight" style="display:none" ></a>
        
        
        <div id="popup_name" class="popup_block" style="height: 500px;overflow:scroll;" >
                <h2>Wolfram Search :</h2>
                
                <div id="data_wolframe"> <img id="ajax" src="icones/ajax.gif" width="72" height="72" style="display: none;position:absolute;left:48%;top:50%;" /> </div>
        </div>
                                
                               
                                
                        
                   

<div id="output">    
</div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="ajax.js"></script>
<script>
    

                    $(function() {
                    $('a.poplight[href^=#]').click(function() {
                    $('#ajax').css('display','block');    
                    $('#data_wolframe').load('wolframe.php?q=Paris');
                    
                    var popID = $(this).attr('rel'); //Trouver la pop-up correspondante
                    var popURL = $(this).attr('href'); //Retrouver la largeur dans le href

                    //Rï¿½cupï¿½rer les variables depuis le lien
                    var query= popURL.split('?');
                    var dim= query[1].split('&amp;');
                    var popWidth = dim[0].split('=')[1]; //La premiï¿½re valeur du lien

                    //Faire apparaitre la pop-up et ajouter le bouton de fermeture
                    $('#' + popID).fadeIn().css({
                            'width': Number(popWidth)
                    })
                    .prepend('<a href="#" class="close"><img src="icones/close_pop.png" class="btn_close" title="Fermer" alt="Fermer" /></a>');

                    //Rï¿½cupï¿½ration du margin, qui permettra de centrer la fenï¿½tre - on ajuste de 80px en conformitï¿½ avec le CSS
                    var popMargTop = ($('#' + popID).height() + 80) / 2;
                    var popMargLeft = ($('#' + popID).width() + 80) / 2;

                    //On affecte le margin
                    $('#' + popID).css({
                            'margin-top' : -popMargTop,
                            'margin-left' : -popMargLeft
                    });

                    //Effet fade-in du fond opaque
                    $('body').append('<div id="fade"></div>'); //Ajout du fond opaque noir
                    //Apparition du fond - .css({'filter' : 'alpha(opacity=80)'}) pour corriger les bogues de IE
                    $('#fade').css({'filter' : 'alpha(opacity=80)'}).fadeIn();

                    return false;
            });

            //Fermeture de la pop-up et du fond
            $('a.close, #fade').live('click', function() { //Au clic sur le bouton ou sur le calque...
                    $('#fade , .popup_block').fadeOut(function() {
                            $('#fade, a.close').remove();  //...ils disparaissent ensemble
                    });
                    return false;
            });    

                        });
</script>    
</body>
</html>
